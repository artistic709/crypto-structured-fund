(window["webpackJsonpcrypto-structured-fund-frontend"]=window["webpackJsonpcrypto-structured-fund-frontend"]||[]).push([[8],{1058:function(e,t,a){"use strict";a.r(t);var n=a(4),l=a.n(n),c=a(32),r=a(52),u=a(0),i=a.n(u),o=a(21),m=a(193),s=a(858),E=a(872),f=a(22),d=a(873),b=a(847),F=a(874),h=a(875),j=a(912);function p(e){var t=e.data,a=t.fullProfitPrice,n=t.lossPrice,l=t.currentPrice;return i.a.createElement(j.f,null,i.a.createElement(j.b,{data:[t],barSize:40,barGap:40},i.a.createElement(j.j,{stroke:"#FFFFFF",width:80,padding:{top:30,bottom:30},axisLine:!1,tickLine:!1,tick:{fontWeight:500}},i.a.createElement(j.c,{value:"ETH Price",offset:10,position:"insideLeft",style:{textAnchor:"middle"},angle:-90,fill:"#FFFFFF",fontWeight:500})),i.a.createElement(j.a,{dataKey:"currentPrice",fill:"#00C8FF"}),i.a.createElement(j.a,{dataKey:"fullProfitPrice",fill:"#00FF8C"}),i.a.createElement(j.a,{dataKey:"lossPrice",fill:"#FF4D53"}),i.a.createElement(j.e,{y:a,stroke:"#FF4D53",strokeDasharray:"5 5"},i.a.createElement(j.c,{value:"Profit Price",fill:"#FFFFFF",fontWeight:500,position:"insideRight"})),i.a.createElement(j.e,{y:n,stroke:"#FF4D53",strokeDasharray:"5 5"},i.a.createElement(j.c,{value:"Break Even",fill:"#FFFFFF",fontWeight:500,position:"insideRight"})),i.a.createElement(j.e,{y:l,label:"Current Price",stroke:"#FF4D53",strokeDasharray:"5 5"},i.a.createElement(j.c,{value:"Current Price",fill:"#FFFFFF",fontWeight:500,position:"insideRight"}))))}var O=a(911),g=a(65),v=a.n(g);function P(){var e=Object(o.useWeb3Context)().account,t=Object(s.c)(),a=Object(s.b)(),n=a.allowance,j=a.approve,g=Object(u.useState)(!1),P=Object(r.a)(g,2),k=P[0],w=P[1],D=Object(E.k)(),y=D.purchaseExpiringDate,x=D.redeemStartingDate,C=Object(E.c)(),S=Object(E.l)(),M=Object(E.e)(),N=Object(E.j)(),R=Object(E.d)(),T=Object(s.f)("DAI","ETH"),A=Object(s.f)("ETH","USD"),H=Object(E.a)(),U=Object(E.b)(),W=Object(m.c)(),I=Object(u.useState)(""),B=Object(r.a)(I,2),L=B[0],K=B[1],J=Object(u.useMemo)((function(){return!!e}),[e]),Y=Object(u.useMemo)((function(){return M&&N&&T?M.times(T).plus(N):null}),[M,N,T]),z=Object(u.useMemo)((function(){return M&&Y?M.times(1.2).div(Y):null}),[M,Y]),G=Object(u.useMemo)((function(){return M&&Y?M.div(Y):null}),[M,Y]),q=Object(u.useMemo)((function(){var e=new v.a(A);return e.gt(z)?e.times(1.2):Y?Y.times(A).div(M):void 0}),[A,M,z,Y]),Q=Object(u.useMemo)((function(){return q&&A?q.minus(A).div(A):null}),[A,q]),V=Object(u.useMemo)((function(){return{fullProfitPrice:z?z.toNumber():0,lossPrice:G?G.toNumber():0,currentPrice:A?A.toNumber():0}}),[z,G,A]),X=Object(u.useCallback)(Object(c.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j((function(e){W(e),w(!0)}),(function(){w(!1)}),(function(){w(!1)}));case 4:case"end":return e.stop()}}),e)}))),[j,W]),Z=Object(u.useCallback)(Object(c.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new v.a(L).times(1e18).toString(),H(t,(function(e){W(e)}),(function(){K("")}),(function(){K("")}));case 5:case"end":return e.stop()}}),e)}))),[H,L,W]),$=Object(u.useCallback)(Object(c.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new v.a(L).times(1e18).toString(),U(t,(function(e){W(e)}),(function(){K("")}),(function(){K("")}));case 5:case"end":return e.stop()}}),e)}))),[U,L,W]),_=Date.now()<y,ee=Date.now()>x;return i.a.createElement(d.a,null,i.a.createElement(d.b,null,i.a.createElement(F.a,{strong:!0},i.a.createElement(b.h,null,"Profit Rate"),i.a.createElement(b.d,null,S?"".concat(S.times(100).toString(),"%"):"-")),i.a.createElement(F.a,null,i.a.createElement(b.h,null,"Pool (DAI)"),i.a.createElement(b.d,null,M?Object(f.a)(M,18):"-")),i.a.createElement(F.a,null,i.a.createElement(b.h,null,"Investors"),i.a.createElement(b.d,null,R||"-"))),i.a.createElement(d.b,null,i.a.createElement(F.b,null,i.a.createElement(F.d,null,i.a.createElement(F.f,null,i.a.createElement(b.h,null,i.a.createElement(b.a,null,"Already Bought"," ",C?Object(f.a)(C,18):"0"," ","units.")),i.a.createElement(b.f,null,"Your Balance:"," ",t?Object(f.a)(t,18):"-"," DAI")),_?i.a.createElement(h.b,null,i.a.createElement(h.c,null,i.a.createElement("input",{type:"number",placeholder:"0.0",value:L,onChange:function(e){K(e.target.value)}}),i.a.createElement("span",{className:"suffix"},"DAI")),n&&L?k?i.a.createElement(h.a,{disabled:!0},"Pending..."):n.lt(L)?i.a.createElement(h.a,{onClick:X,disabled:!J},"Unlock"):i.a.createElement(h.a,{onClick:Z,disabled:!J},"Purchase"):i.a.createElement(h.a,{disabled:!0},"Purchase")):ee?i.a.createElement(h.b,null,i.a.createElement(h.c,null,i.a.createElement("input",{type:"number",placeholder:"0.0",value:L,onChange:function(e){K(e.target.value)}}),i.a.createElement("span",{className:"suffix"},"ETH")),i.a.createElement(h.a,{onClick:$,disabled:!J},"Redeem")):i.a.createElement(F.f,null,i.a.createElement(b.f,null,"The fund is in the locked period."))),i.a.createElement(F.c,null,i.a.createElement(F.e,null,i.a.createElement("div",{className:"item"},i.a.createElement(O.a,null),i.a.createElement(b.g,null,"Purchase Due Date:"," ",y?Object(f.b)(y):"-")),i.a.createElement("div",{className:"item"},i.a.createElement(O.a,null),i.a.createElement(b.g,null,"Redeem Starting Date:"," ",x?Object(f.b)(x):"-")))))),!_&&!ee&&i.a.createElement(i.a.Fragment,null,i.a.createElement(d.b,null,i.a.createElement(b.b,null,"Your Profit accourding to current Ether Price"),i.a.createElement(b.f,null,"Unit: USD/ETH")),i.a.createElement(d.c,null,i.a.createElement(F.a,null,i.a.createElement(b.h,null,"Current Price"),i.a.createElement(b.d,null,A?A.toFixed(2):"-")),i.a.createElement(F.a,null,i.a.createElement(b.h,null,"Outcome"),i.a.createElement(b.d,null,q?q.toFixed(4):"-")),i.a.createElement(F.a,null,i.a.createElement(b.h,null,"Profit Rate"),i.a.createElement(b.d,null,Q?"".concat(Q.times(100).toFixed(0),"%"):"-")))),i.a.createElement(d.b,{justifyBetween:!0},i.a.createElement(b.b,null,"Estimated Ether Price that you will get..."),i.a.createElement(b.f,null,"Unit: USD/ETH")),i.a.createElement(d.c,null,i.a.createElement(F.a,null,i.a.createElement(b.h,null,"Full Profits"),i.a.createElement(b.d,null,z?z.toFixed(2):"-")),i.a.createElement(F.a,null,i.a.createElement(b.h,null,"Loss"),i.a.createElement(b.d,null,G?G.toFixed(2):"-"))),i.a.createElement(d.c,null,i.a.createElement(F.a,null,i.a.createElement("div",{style:{width:"90%",height:"300px"}},i.a.createElement(p,{data:V})))))}a.d(t,"default",(function(){return P}))}}]);
//# sourceMappingURL=8.da1ada13.chunk.js.map