(window["webpackJsonpcrypto-structured-fund-frontend"]=window["webpackJsonpcrypto-structured-fund-frontend"]||[]).push([[7],{1057:function(e,t,n){"use strict";n.r(t);var a=n(4),l=n.n(a),r=n(32),c=n(52),i=n(0),u=n.n(i),m=n(65),o=n.n(m),s=n(21),d=n(193),E=n(858),f=n(872),p=n(22),F=n(873),b=n(847),h=n(874),v=n(875),g=n(912);function O(e){var t=e.x,n=e.y,a=e.payload,l=100===a.value?"#F9FF2D":"#FFFFFF";return u.a.createElement("text",{x:t-10,y:n,fill:l,width:"80",textAnchor:"middle"},"".concat(a.value,"%"))}function j(e){var t=e.cx,n=e.cy,a=(e.r,e.payload.active?"#F9FF2D":"#00FF8C");return u.a.createElement("circle",{cx:t,cy:n,r:"4",fill:a})}function x(e){var t=e.investingData,n=e.holdingData,a=t.sort((function(e,t){return e.price-t.price})),l=n.sort((function(e,t){return e.price-t.price}));return u.a.createElement(g.f,null,u.a.createElement(g.h,null,u.a.createElement(g.i,{dataKey:"price",type:"number",domain:["dataMin","dataMax"],interval:0,stroke:"#FFFFFF",height:50,padding:{left:30,right:30},axisLine:{strokeWidth:2},tickLine:!1,tick:{fontWeight:500},tickCount:10},u.a.createElement(g.c,{value:"ETH Price (USD)",offset:5,position:"insideBottom",fill:"#FFFFFF",fontWeight:500})),u.a.createElement(g.j,{dataKey:"rate",type:"number",stroke:"#FFFFFF",width:80,padding:{top:30,bottom:30},axisLine:!1,tickLine:!1,tick:O},u.a.createElement(g.c,{value:"Outcome / Current Price",offset:10,position:"insideLeft",style:{textAnchor:"middle"},angle:-90,fill:"#FFFFFF",fontWeight:500})),u.a.createElement(g.d,{verticalAlign:"top",height:36,iconSize:8}),u.a.createElement(g.g,{name:"Outcome if Investing",data:a,line:{stroke:"#00FF8C",strokeWidth:4},fill:"#00FF8C",shape:j}),u.a.createElement(g.g,{name:"Outcome if Holding",data:l,line:{stroke:"#00C8FF",strokeWidth:4},fill:"#00C8FF"})))}var D=n(911);function w(){var e=Object(s.useWeb3Context)().account,t=Object(E.d)(),n=Object(f.h)(),a=Object(f.k)(),m=a.purchaseExpiringDate,g=a.redeemStartingDate,O=Object(f.e)(),j=Object(f.j)(),w=Object(f.i)(),k=Object(E.f)("DAI","ETH"),y=Object(E.f)("ETH","USD"),C=Object(f.f)(),S=Object(f.g)(),P=Object(d.c)(),H=Object(i.useState)(""),I=Object(c.a)(H,2),M=I[0],T=I[1],U=Object(i.useState)(500),W=Object(c.a)(U,2),L=W[0],A=W[1],B=Object(i.useMemo)((function(){return!!e}),[e]),N=Object(i.useMemo)((function(){return O&&j&&k?O.times(k).plus(j):null}),[O,j,k]),R=Object(i.useMemo)((function(){return N&&j?N.div(j):null}),[N,j]),J=Object(i.useMemo)((function(){if(N&&O&&j){var e=N.times(y).minus(O.times(1.2)).div(j);return e.gt(0)?e:new o.a(0)}return null}),[y,O,j,N]),K=Object(i.useMemo)((function(){return J&&y?J.minus(y).div(y):null}),[y,J]),Y=Object(i.useMemo)((function(){if(N&&O&&j){var e=N.times(L).minus(O.times(1.2)).div(j);return e.gt(0)?e:new o.a(0)}return null}),[N,L,O,j]),z=Object(i.useMemo)((function(){return Y&&y?Y.minus(y).div(y):null}),[Y,y]),q=Object(i.useMemo)((function(){if(O&&j&&N&&y){var e=parseInt(O.times(1.2).div(N).toFixed(0)),t=parseInt(j.times(y).plus(O.times(1.2)).div(N).toFixed(0)),n=parseInt(j.times(y).times(4).plus(O.times(1.2)).div(N).toFixed(0)),a=parseInt(new o.a(t).minus(y).div(y).times(100).plus(100).toFixed(0)),l=parseInt(new o.a(n).minus(y).div(y).times(100).plus(100).toFixed(0)),r=parseInt(new o.a(L).minus(y).div(y).times(100).plus(100).toFixed(0));return{investingOutcomeData:[{price:e-30,rate:0},{price:e,rate:0},{price:t,rate:100},{price:n,rate:400},{price:L,rate:parseInt(z.times(100).toFixed(0))+100,active:!0}],holdingOutcomeData:[{price:t,rate:a},{price:n,rate:l},{price:L,rate:r,active:!0}]}}return{investingOutcomeData:[],holdingOutcomeData:[]}}),[O,j,N,y,L,z]),G=Object(i.useCallback)(Object(r.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new o.a(M).times(1e18).toString(),C(t,(function(e){P(e)}),(function(){T("")}),(function(){T("")}));case 5:case"end":return e.stop()}}),e)}))),[C,P,M]),Q=Object(i.useCallback)(Object(r.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new o.a(M).times(1e18).toString(),S(t,(function(e){P(e)}),(function(){T("")}),(function(){T("")}));case 5:case"end":return e.stop()}}),e)}))),[S,M,P]),V=Date.now()<m,X=Date.now()>g;return u.a.createElement(F.a,null,u.a.createElement(F.b,null,u.a.createElement(h.a,{strong:!0},u.a.createElement(b.h,null,"Leverage"),u.a.createElement(b.d,null,R?R.toFixed(2):"-")),u.a.createElement(h.a,null,u.a.createElement(b.h,null,"Pool (ETH)"),u.a.createElement(b.d,null,j?Object(p.a)(j,18):"-")),u.a.createElement(h.a,null,u.a.createElement(b.h,null,"Investors"),u.a.createElement(b.d,null,w||"-"))),u.a.createElement(F.b,null,u.a.createElement(h.b,null,u.a.createElement(h.d,null,u.a.createElement(h.f,null,u.a.createElement(b.h,null,u.a.createElement(b.a,null,"Already Bought"," ",n?Object(p.a)(n,18):"0"," ","units.")),u.a.createElement(b.f,null,"Your Balance:"," ",t?Object(p.a)(t,18):"-"," ETH")),V?u.a.createElement(v.b,null,u.a.createElement(v.c,null,u.a.createElement("input",{type:"number",placeholder:"0.0",value:M,onChange:function(e){T(e.target.value)}}),u.a.createElement("span",{className:"suffix"},"ETH")),u.a.createElement(v.a,{onClick:G,disabled:!B},"Purchase")):X?u.a.createElement(v.b,null,u.a.createElement(v.c,null,u.a.createElement("input",{type:"number",placeholder:"0.0",value:M,onChange:function(e){T(e.target.value)}}),u.a.createElement("span",{className:"suffix"},"ETH")),u.a.createElement(v.a,{onClick:Q,disabled:!B},"Redeem")):u.a.createElement(h.f,null,u.a.createElement(b.f,null,"The fund is in the locked period."))),u.a.createElement(h.c,null,u.a.createElement(h.e,null,u.a.createElement("div",{className:"item"},u.a.createElement(D.a,null),u.a.createElement(b.g,null,"Purchase Due Date:"," ",m?Object(p.b)(m):"-")),u.a.createElement("div",{className:"item"},u.a.createElement(D.a,null),u.a.createElement(b.g,null,"Redeem Starting Date:"," ",g?Object(p.b)(g):"-")))))),!V&&!X&&u.a.createElement(u.a.Fragment,null,u.a.createElement(F.b,{justifyBetween:!0},u.a.createElement(b.b,null,"Your Profit/unit according to current Ether Price"),u.a.createElement(b.f,null,"Unit: USD/ETH")),u.a.createElement(F.c,null,u.a.createElement(h.a,null,u.a.createElement(b.h,null,"Current Price"),u.a.createElement(b.d,null,y?y.toFixed(2):"-")),u.a.createElement(h.a,null,u.a.createElement(b.h,null,"Outcomes"),u.a.createElement(b.d,null,J?J.toFixed(4):"-")),u.a.createElement(h.a,null,u.a.createElement(b.h,null,"Profit Rate"),u.a.createElement(b.d,null,K?"".concat(K.times(100).toFixed(0),"%"):"-")))),u.a.createElement(F.b,{justifyBetween:!0},u.a.createElement(b.b,null,"Estimated Profits/unit if Ether hits USD",u.a.createElement(v.d,{type:"number",placeholder:"200",value:L,onChange:function(e){A(e.target.value)}})),u.a.createElement(b.f,null,"Unit: USD/ETH")),u.a.createElement(F.c,null,u.a.createElement(h.a,null,u.a.createElement(b.h,null,"Outcomes"),u.a.createElement(b.d,null,Y?Y.toFixed(4):"-")),u.a.createElement(h.a,null,u.a.createElement(b.h,null,"Profit Rate"),u.a.createElement(b.d,null,z?"".concat(z.times(100).toFixed(0),"%"):"-"))),u.a.createElement(F.c,null,u.a.createElement(h.a,null,u.a.createElement("div",{style:{width:"90%",height:"300px"}},u.a.createElement(x,{investingData:q.investingOutcomeData,holdingData:q.holdingOutcomeData})))))}n.d(t,"default",(function(){return w}))}}]);
//# sourceMappingURL=7.6eb4152e.chunk.js.map